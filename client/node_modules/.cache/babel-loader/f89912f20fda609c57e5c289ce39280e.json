{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\haydn\\\\Desktop\\\\convertToMongo\\\\Project-3\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"C:\\\\Users\\\\haydn\\\\Desktop\\\\convertToMongo\\\\Project-3\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\haydn\\\\Desktop\\\\convertToMongo\\\\Project-3\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\haydn\\\\Desktop\\\\convertToMongo\\\\Project-3\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\haydn\\\\Desktop\\\\convertToMongo\\\\Project-3\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\haydn\\\\Desktop\\\\convertToMongo\\\\Project-3\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\haydn\\\\Desktop\\\\convertToMongo\\\\Project-3\\\\client\\\\src\\\\components\\\\Sell.js\";\nimport React, { Component } from \"react\";\nimport API from \"./api/api.js\";\nimport api from \"./api/api.js\";\n\nvar Sell =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Sell, _Component);\n\n  function Sell() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Sell);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Sell)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      title: \"\",\n      description: \"\",\n      price: \"\",\n      stage: 0\n    };\n\n    _this.handleInput = function (event) {\n      var _event$target = event.target,\n          name = _event$target.name,\n          value = _event$target.value;\n\n      _this.setState(_defineProperty({}, name, value));\n    };\n\n    _this.handleFileInput = function (event) {\n      console.log(event.target.files[0]);\n\n      _this.setState({\n        uploaded: event.target.files[0],\n        loaded: 0\n      });\n    };\n\n    _this.submitForm = function (event) {\n      API.saveItem({\n        title: _this.state.title || \"none\",\n        description: _this.state.description || \"none\",\n        price: parseFloat(_this.state.price) || 999.99\n      });\n\n      _this.setState({\n        stage: 1\n      });\n    };\n\n    _this.fileSubmit = function (event) {\n      console.log('file upload clicked');\n      var data = new FormData();\n      data.append('file', _this.state.uploaded);\n      console.log(_this.state.uploaded, \" sent to api\");\n      api.imageUpload(data, _this.state.title + \".\" + _this.state.uploaded.name.split('.').pop()).then(function (res) {\n        console.log(res);\n\n        _this.setState({\n          stage: 0\n        });\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(Sell, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"sell-items\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, this.state.stage === 0 ? React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"title\",\n        value: this.state.title,\n        name: \"title\",\n        onChange: this.handleInput,\n        type: \"text\",\n        placeholder: \" title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        className: \"price\",\n        value: this.state.price,\n        name: \"price\",\n        onChange: this.handleInput,\n        type: \"text\",\n        placeholder: \"USD\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      })), React.createElement(\"textarea\", {\n        className: \"description\",\n        value: this.state.description,\n        name: \"description\",\n        onChange: this.handleInput,\n        type: \"text\",\n        placeholder: \"description\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"new-item\",\n        onClick: this.submitForm,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, \" add new item\")) : //image upload html goes here\n      React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"file\",\n        name: \"file\",\n        onChange: this.handleFileInput,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        onClick: this.fileSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, \"Upload\"))));\n    }\n  }]);\n\n  return Sell;\n}(Component);\n\nexport default Sell;","map":{"version":3,"sources":["C:\\Users\\haydn\\Desktop\\convertToMongo\\Project-3\\client\\src\\components\\Sell.js"],"names":["React","Component","API","api","Sell","state","title","description","price","stage","handleInput","event","target","name","value","setState","handleFileInput","console","log","files","uploaded","loaded","submitForm","saveItem","parseFloat","fileSubmit","data","FormData","append","imageUpload","split","pop","then","res"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport API from \"./api/api.js\";\r\nimport api from \"./api/api.js\";\r\n\r\n\r\n\r\n\r\nclass Sell extends Component {\r\n\r\n    state = {\r\n        title: \"\",\r\n        description: \"\",\r\n        price: \"\",\r\n        stage: 0\r\n    };\r\n\r\n    handleInput = event => {\r\n        const { name, value } = event.target;\r\n\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    };\r\n\r\n    handleFileInput = event => {\r\n        console.log(event.target.files[0]);\r\n        this.setState({uploaded: event.target.files[0], loaded:0})\r\n\r\n    }\r\n\r\n    submitForm = event => {\r\n        API.saveItem({\r\n            title: this.state.title || \"none\",\r\n            description: this.state.description || \"none\",\r\n            price: parseFloat(this.state.price) || 999.99\r\n        })\r\n        this.setState({ stage: 1 });\r\n    };\r\n\r\n    fileSubmit = event =>{\r\n        console.log('file upload clicked')\r\n        let data = new FormData();\r\n        data.append('file', this.state.uploaded);\r\n        console.log(this.state.uploaded, \" sent to api\");\r\n        api.imageUpload(data, this.state.title + \".\" + this.state.uploaded.name.split('.').pop()).then( (res) => {\r\n            console.log(res);\r\n            this.setState({stage:0})\r\n        })\r\n        \r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"sell-items\">\r\n                {this.state.stage === 0 ?\r\n                    <div>\r\n                        <div>\r\n                            <input\r\n                                className=\"title\"\r\n                                value={this.state.title}\r\n                                name=\"title\"\r\n                                onChange={this.handleInput}\r\n                                type=\"text\"\r\n                                placeholder=\" title\" />\r\n                            <input\r\n                                className=\"price\"\r\n                                value={this.state.price}\r\n                                name=\"price\"\r\n                                onChange={this.handleInput}\r\n                                type=\"text\"\r\n                                placeholder=\"USD\" />\r\n                        </div>\r\n                        <textarea\r\n                            className=\"description\"\r\n                            value={this.state.description}\r\n                            name=\"description\"\r\n                            onChange={this.handleInput}\r\n                            type=\"text\"\r\n                            placeholder=\"description\" />\r\n                        <div className=\"new-item\" onClick={this.submitForm}> add new item</div>\r\n                    </div>\r\n                    :\r\n                    //image upload html goes here\r\n                    <div>\r\n                        <div>\r\n                         <input type=\"file\" name=\"file\" onChange={this.handleFileInput}/>\r\n                         <button onClick={this.fileSubmit}>Upload</button>\r\n                        </div>\r\n                    </div>\r\n\r\n                }\r\n            </div>\r\n\r\n\r\n\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default Sell;"]},"metadata":{},"sourceType":"module"}