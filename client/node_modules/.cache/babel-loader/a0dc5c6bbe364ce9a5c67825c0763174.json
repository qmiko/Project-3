{"ast":null,"code":"import _assertThisInitialized from \"C:\\\\Users\\\\haydn\\\\Desktop\\\\convertToMongo\\\\Project-3\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nimport _classCallCheck from \"C:\\\\Users\\\\haydn\\\\Desktop\\\\convertToMongo\\\\Project-3\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\haydn\\\\Desktop\\\\convertToMongo\\\\Project-3\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\haydn\\\\Desktop\\\\convertToMongo\\\\Project-3\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\haydn\\\\Desktop\\\\convertToMongo\\\\Project-3\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\haydn\\\\Desktop\\\\convertToMongo\\\\Project-3\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\haydn\\\\Desktop\\\\convertToMongo\\\\Project-3\\\\client\\\\src\\\\components\\\\Search.js\";\nimport React, { Component } from \"react\";\nimport API from \"./api/api\";\nimport ClothingItem from \"./ClothingItem\";\n\nvar Results =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Results, _Component);\n\n  function Results() {\n    _classCallCheck(this, Results);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Results).apply(this, arguments));\n  }\n\n  _createClass(Results, [{\n    key: \"render\",\n    value: function render() {\n      var _this = this;\n\n      return React.createElement(\"div\", {\n        className: \"clothing-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 7\n        },\n        __self: this\n      }, this.props.data.length ? this.props.data.filter(function (item) {\n        var display = false;\n        if (-1 !== item.title.indexOf(_this.props.query)) display = true;\n        if (-1 !== item.description.indexOf(_this.props.query)) display = true;\n        return display;\n      }).map(function (item) {\n        return React.createElement(ClothingItem, {\n          title: item.title,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 16\n          },\n          __self: this\n        });\n      }) : \"\");\n    }\n  }]);\n\n  return Results;\n}(Component);\n\nvar Search =\n/*#__PURE__*/\nfunction (_Component2) {\n  _inherits(Search, _Component2);\n\n  function Search(props) {\n    var _this2;\n\n    _classCallCheck(this, Search);\n\n    _this2 = _possibleConstructorReturn(this, _getPrototypeOf(Search).call(this, props));\n\n    _this2.fetchSearchResults = function (query) {\n      // if(this.cancel){\n      //     this.cancel.cancel();\n      // }\n      // this.cancel = axios.CancelToken.source();\n      // axios.get(seacrhURL, {\n      //     cancelToken: this.cancel.token\n      // }).then(res =>{\n      //     const resultNotFound\n      // })\n      var app = _assertThisInitialized(_assertThisInitialized(_this2));\n\n      API.getItems().then(function (data) {\n        console.log(data);\n        app.setState(data);\n      });\n    };\n\n    _this2.handleOnInputChange = function (event) {\n      var query = event.target.value;\n\n      _this2.setState({\n        query: query,\n        loading: true,\n        message: \"\"\n      });\n    };\n\n    _this2.state = {\n      query: '',\n      results: {},\n      loading: false,\n      message: '',\n      data: {\n        item: []\n      }\n    };\n    _this2.cancel = \"\";\n    return _this2;\n  }\n\n  _createClass(Search, [{\n    key: \"render\",\n    value: function render() {\n      var query = this.state.query;\n      console.log(this.state);\n      return React.createElement(\"div\", {\n        className: \"search-component\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        className: \"search-label\",\n        htmlFor: \"search-input\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"search-box\",\n        type: \"text\",\n        name: \"query\",\n        value: query,\n        id: \"search-input\",\n        placeholder: \" search\",\n        onChange: this.handleOnInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }), React.createElement(\"i\", {\n        onClick: this.fetchSearchResults,\n        className: \"fa fa-search\",\n        \"aria-hidden\": \"true\",\n        id: \"search-btn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      })), React.createElement(Results, {\n        query: this.state.query,\n        data: this.state.data.item,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return Search;\n}(Component); //     state = {\n//         query: '',\n//         results: []\n//     }\n// }\n// getInfo = () => {\n//     axios.get()\n//       .then(({ data }) => {\n//         this.setState({\n//           results: data.data\n//         })\n//       })\n//   }\n// handleInputChange = () => {\n//     this.setState({\n//         query: this.search.value\n//     })\n// }\n// render() {\n//     return (\n//       <form>\n//         <input\n//           placeholder=\"search\"\n//           ref={input => this.search = input}\n//           onChange={this.handleInputChange}\n//         />\n//         <p>{this.state.query}</p>\n//       </form>\n//     )\n//   }\n//  }\n\n\nexport default Search;","map":{"version":3,"sources":["C:\\Users\\haydn\\Desktop\\convertToMongo\\Project-3\\client\\src\\components\\Search.js"],"names":["React","Component","API","ClothingItem","Results","props","data","length","filter","item","display","title","indexOf","query","description","map","Search","fetchSearchResults","app","getItems","then","console","log","setState","handleOnInputChange","event","target","value","loading","message","state","results","cancel"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport API from \"./api/api\";\r\nimport ClothingItem from \"./ClothingItem\";\r\n\r\nclass Results extends Component {\r\n    render() {\r\n        return <div className=\"clothing-item\">\r\n            {this.props.data.length ?\r\n                this.props.data.filter(item => {\r\n                    let display = false;\r\n                    if(- 1 !== item.title.indexOf(this.props.query)) (display = true);\r\n                    if(- 1 !== item.description.indexOf(this.props.query)) (display = true);\r\n                    return display;\r\n                }).map(item => (\r\n\r\n                    <ClothingItem\r\n                        title={item.title}\r\n                    />\r\n                )) : \"\"}\r\n        </div>\r\n    }\r\n}\r\n\r\nclass Search extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            query: '',\r\n            results: {},\r\n            loading: false,\r\n            message: '',\r\n            data: {\r\n                item: []\r\n            }\r\n        }\r\n        this.cancel = \"\";\r\n    }\r\n\r\n    fetchSearchResults = (query) => {\r\n        // if(this.cancel){\r\n        //     this.cancel.cancel();\r\n        // }\r\n        // this.cancel = axios.CancelToken.source();\r\n        // axios.get(seacrhURL, {\r\n        //     cancelToken: this.cancel.token\r\n        // }).then(res =>{\r\n        //     const resultNotFound\r\n        // })\r\n        const app = this;\r\n        API.getItems().then(function (data) {\r\n            console.log(data);\r\n            app.setState(data);\r\n        })\r\n\r\n    };\r\n\r\n    handleOnInputChange = (event) => {\r\n        const query = event.target.value;\r\n        this.setState({ query, loading: true, message: \"\" });\r\n    };\r\n\r\n    render() {\r\n        const { query } = this.state;\r\n        console.log(this.state)\r\n        return (\r\n            <div className=\"search-component\">\r\n                <label className=\"search-label\" htmlFor=\"search-input\">\r\n                    <input\r\n                        className=\"search-box\"\r\n                        type=\"text\"\r\n                        name=\"query\"\r\n                        value={query}\r\n                        id=\"search-input\"\r\n                        placeholder=\" search\"\r\n                        onChange={this.handleOnInputChange}\r\n                    />\r\n                    <i onClick={this.fetchSearchResults} className=\"fa fa-search\" aria-hidden=\"true\" id=\"search-btn\" />\r\n                </label>\r\n                <Results query={this.state.query} data={this.state.data.item} />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n//     state = {\r\n//         query: '',\r\n//         results: []\r\n//     }\r\n// }\r\n\r\n// getInfo = () => {\r\n//     axios.get()\r\n//       .then(({ data }) => {\r\n//         this.setState({\r\n//           results: data.data\r\n//         })\r\n//       })\r\n//   }\r\n\r\n// handleInputChange = () => {\r\n//     this.setState({\r\n//         query: this.search.value\r\n//     })\r\n// }\r\n\r\n// render() {\r\n//     return (\r\n//       <form>\r\n//         <input\r\n//           placeholder=\"search\"\r\n//           ref={input => this.search = input}\r\n//           onChange={this.handleInputChange}\r\n//         />\r\n//         <p>{this.state.query}</p>\r\n//       </form>\r\n//     )\r\n//   }\r\n//  }\r\n\r\nexport default Search;"]},"metadata":{},"sourceType":"module"}